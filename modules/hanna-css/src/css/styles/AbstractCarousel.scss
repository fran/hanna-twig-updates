@use '_globals' as *;

@mixin itemsScrollSnapStyles() {
  & {
    display: flex;
    flex-flow: row;
    overflow-x: scroll;
    scroll-behavior: smooth;
    --paddingLeft: calc(50vw - 50%);
    padding-left: var(--paddingLeft);
    margin: 0 calc(-1 * var(--paddingLeft));
    scroll-padding-left: var(--Carousel--leftOffset, #{px($grid-margin--phone)});
    // hide scrollbars
    -ms-overflow-style: none; /* Edge, Internet Explorer */
    scrollbar-width: none; /* Firefox */
    width: 100vw;
    // // WARNING: Script-driven snap scrolling seems to go all wonky
    // // in FF and Chrome (OSX) if `position` is not `static`
    // // -- MÃ¡r @ 2022-08-08
    // position: relative;
  }

  &-wrapper {
    position: relative;
    --paddingLeft: calc(50vw - 50%);
  }
  &-goRight,
  &-goLeft {
    position: absolute;
    width: max(calc(0.33 * var(--paddingLeft)), #{$var--grid-margin}, 40px);
    top: -0.67rem;
    bottom: -0.67rem;
    cursor: pointer;
    background-image: linear-gradient(-90deg, rgba(#fff, 1) 0%, rgba(#fff, 0) 100%);
    display: none;
    opacity: 0;
  }
  :hover > &-goRight,
  :hover > &-goLeft {
    display: block;
    opacity: 0.0001;
  }

  &-goRight:hover,
  &-goLeft:hover {
    opacity: 1;
  }
  &-goRight {
    cursor: e-resize;
    right: calc(-1 * var(--paddingLeft) + #{$var--browser-scrollbar-width});
  }
  &-goLeft {
    cursor: w-resize;
    transform: rotate(180deg);
    left: calc(-1 * var(--paddingLeft));
  }

  // Ensure that the last item can scroll all the way to the left edge.
  // Padding-right on the parent doesn't fully work in FF and Chrome.
  &::after {
    content: '';
    width: 90vw;
  }

  &::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }
  &[data-scroll-snapping] {
    scroll-snap-type: x mandatory;
  }
  & > * {
    scroll-snap-align: start;
  }
}

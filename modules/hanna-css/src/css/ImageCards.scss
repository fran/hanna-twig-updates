@use 'globals' as *;
@use 'styles/font' as *;
@use 'styles/links' as *;
@use 'styles/cards' as *;

// NOTE: include ButtonTertiary because they might be commonly used with `ImageCards`

/*!@deps
	ButtonTertiary
*/

@media screen {
  .ImageCards {
    --ImageCards--fallback: url('/assets/illustrations/esjan.png');

    @include CardBlock();
    margin-bottom: between_cols(60, 110);

    @include SeenEffect--fadeup('.ImageCards__summary');
    @include SeenEffect--fadein('.ImageCards__item');
    @for $i from 1 through 12 {
      @include SeenEffect--transition('.ImageCards__item:nth-child(#{$i})') {
        @include SeenEffect--delay($i * 50ms + 200ms);
      }
    }
  }

  .ImageCards--background {
    @include extendBackgroundWithUnderlay();
    background-color: $color-suld-25;

    padding: 100px 0;
    @include avoidCssnanoMerging() {
      padding: MIN(#{between_phone_netbook(40, 136)}, 136px) 0;
    }
  }

  .ImageCards__title {
    @include CardListTitle();
  }
  .ImageCards__summary {
    grid-area: title;
    margin-bottom: $var--baseVerticalMargin;
  }
  .ImageCards__summary > .ImageCards__title {
    margin-bottom: $var--space-2;
  }

  .ImageCards__list {
    @include CardList();

    row-gap: 60px;
    @include avoidCssnanoMerging() {
      row-gap: MIN(#{between_phone_netbook(48, 80)}, 80px);
    }
  }

  .ImageCards__item {
    // â€¦
  }

  .ImageCards__card {
    --link-color: _inherit;
    --link-underline: 1px solid #{$color-suld-200};
    --link-underline--hover: 1px solid #{$color-faxafloi-100};

    display: block;
    height: 100%;
    padding-bottom: $var--space-3;
    @include avoidCssnanoMerging() {
      padding-bottom: MIN(#{between_phone_netbook(16, 32)}, #{$var--space-4});
    }
  }

  .ImageCards__image {
    display: block;
    position: relative;
    padding-top: pct(168/272);
    margin-bottom: $var--space-2;
    @include avoidCssnanoMerging() {
      margin-bottom: MIN(#{between_phone_netbook(12, 24)}, #{$var--space-3});
    }
  }
  .ImageCards__image--missing {
    $borderW: prem(12);
    border: $borderW solid transparent;
    padding-top: calc(#{pct(168/272)} - #{2 * $borderW});
    background: var(--ImageCards--fallback) 50% 50% / contain no-repeat;
  }

  .ImageCards__image > img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ImageCards__card__title {
    margin-bottom: $var--space-1;
    font: $var--font-sh-s;
    display: block;
  }

  .ImageCards__card__meta {
    font: $var--font-bd-s;
    color: $var--color-suld-150;
    font-weight: $var--font-weight--normal;
  }
}
